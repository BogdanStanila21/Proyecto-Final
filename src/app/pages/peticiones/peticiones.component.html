
<div id="wrapper" class="container" *ngIf="getValor()">
  <!-- ------------------------------------------- -->

  <div class="row solicitudes" *ngIf="datosPeticion[0]; else noHay">
    <div class="col-lg-4 col-md-6 col-sm-12 solicitud" *ngFor="let item of datosPeticion; let i = index">
      <div class="contenedor">
        <div class="foto">
          <img src="{{ item.photo }}" title="{{ item.title }}" alt="¡Ups! La portada de este libro no carga" />
        </div>
        <div class="nombreTitular">
          <p>
            Propietario: <span (click)="openModal(infoUser)" (click)="getUser(item.user_idRequest)">{{ item.nickname }}</span>
          </p>
        </div>
        <p>Estado: {{ item.status }}</p>
        <div *ngIf="item.status == 'Aceptada'; else esFalse">
          {{ item.email }}
          <button class="boton" (click)="deletePeticion(item.requested_id, i)">
            Cerrar
          </button>
        </div>
        <ng-template #esFalse>
          <button class="boton" (click)="deletePeticion(item.requested_id, i)">
            Cancelar
          </button>
        </ng-template>
      </div>
    </div>
  </div>

  <ng-template #noHay>
    <div class="beta">
      <nav class="shelf">
        <a class="book home-page"></a>
        <a class="book about-us"></a>
        <a class="book contact"></a>
        <a class="book faq"></a>
        <span class="book not-found"></span>
        <span class="door left"></span>
        <span class="door right"></span>
      </nav>
      <h1>No tienes ninguna petición</h1>
    </div>
  </ng-template>

  <!----------------------------------- Modal para informasción del libro ----------------------------------->
  <ng-template #infoUser>
    <div class="modal-user">
      <div class="modal-header">
        <h3 class="modal-title pull-left">{{user.nickname}}</h3>
        <button type="button" (click)="modalRef.hide()" class="close pull-right" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="modal-user-top row">
          <div class="modal-user-info col-8">
            <div>
              <p>Nombre</p>
              <p>{{user.name}}</p>
            </div>
            <div>
              <p>Residencia</p>
              <p>{{user.place}}</p>
            </div>
          </div>
          <div class="modal-book-img col-4">
            <img src="{{user.photo}}" alt="">
          </div>
        </div>
        <div class="modal-book-bottom row">
          <div class="modal-book-desc col-12">
            <h4>Acerca de mí:</h4>
            <p>{{user.aboutYou}}</p>
          </div>
        </div>
      </div>
    </div>
  </ng-template>
</div>