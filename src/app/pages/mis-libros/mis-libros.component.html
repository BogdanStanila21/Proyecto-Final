<header>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
  />
</header>
<div id="fondo"></div>
<div class="boton">
  <button
    class="botonVerde"
    id="botSubirLibro"
    type="button"
    data-toggle="modal"
    data-target="#staticBackdrop2"
  >
    Subir Libro
  </button>
</div>

<div id="wrapper" *ngIf="getValor()" class="container">
  <!-- ------------------ *ngIf="misLibros!=null"------------------------- -->
  <div class="row misLibros" *ngIf="misLibros[0]; else noHay">
    <div
      *ngFor="let item of misLibros; let i = index"
      class="col-lg-4 col-md-6 col-sm-12 libro"
    >
      <div class="contenedor">
        <div class="foto">
          <img src="{{ item.photo }}" alt="" />
        </div>
        <p>{{ item.title }}</p>
        <button
          class="botonVerde"
          type="button"
          data-target="#staticBackdrop3"
          data-toggle="modal"
          (click)="getLibro(item.book_id)"
        >
          Editar
        </button>
        <button
          class="botonRojo"
          type="button"
          (click)="borrarLibro(item.book_id, i)"
        >
          Eliminar
        </button>
      </div>
    </div>
  </div>
  <!--cierra a la clase mis libros-->
</div>
<!--cierra a la clase container-->

<!---------------- Modal Subir Libro---------------->
<div
  class="modal fade"
  id="staticBackdrop2"
  data-backdrop="static"
  tabindex="-1"
  role="dialog"
  aria-labelledby="staticBackdropLabel"
  aria-hidden="true"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title pull-left">¡PUBLICA UN NUEVO LIBRO!</h3>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="flex">
          <div class="izq row">
            <input type="text" placeholder="título" #title />
            <input type="text" placeholder="autor" #author />
            <input type="text" placeholder="año de publicación" #year />
            <input type="text" placeholder="editorial" #editorial />
            <select name="" id="" #type>
              <option>Misterio</option>
              <option>Fantasia</option>
              <option>Historico</option>
              <option>Biografias</option>
              <option>Literatura y lingüísticos</option>
              <option>Aventura y ciencia ficcion</option>
              <option>Novela policíaca</option>
              <option>Distopia</option>
              <option>Paranormal</option>
              <option>Comic</option>
            </select>
            <input type="text" placeholder="Foto" #photo />
          </div>
          <div class="imagen"></div>
        </div>
        <textarea
          cols="30"
          rows="7"
          placeholder="Descripción del libro... ¡sin spoilers!"
          #description
        ></textarea>
      </div>
      <div class="modal-footer">
        <!-- <button class="cambiar" type="submit" data-dismiss="modal" (click)="(1)">Cambiar foto</button> -->
        <button
          class="publicar"
          type="submit"
          data-dismiss="modal"
          (click)="
            insertarLibro(
              title.value,
              author.value,
              year.value,
              editorial.value,
              type.value,
              photo.value,
              description.value
            )
          "
        >
          Publicar libro
        </button>
      </div>
    </div>
  </div>
</div>

<!---------------- Modal Modificar Libro ---------------->
<div
  class="modal fade"
  id="staticBackdrop3"
  data-backdrop="static"
  tabindex="-1"
  role="dialog"
  aria-labelledby="staticBackdropLabel"
  aria-hidden="true"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title pull-left">¡MODIFICA UN LIBRO!</h3>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="flex">
          <div class="izq row">
            <input type="text" value="{{ editarLibro.title }}" #title2 />
            <input type="text" value="{{ editarLibro.author }}" #author2 />
            <input type="text" value="{{ editarLibro.year }}" #year2 />
            <input
              type="text"
              value="{{ editarLibro.editorial }}"
              #editorial2
            />
            <input type="text" value="{{ editarLibro.type }}" #type2 />
            <input type="text" value="{{ editarLibro.photo }}" #photo2 />
            <textarea
              cols="30"
              rows="7"
              value="{{ editarLibro.description }}"
              #description2
            ></textarea>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <!-- <button class="cambiar" type="submit" data-dismiss="modal" (click)="(1)">Cambiar foto</button> -->
        <button
          class="publicar"
          type="submit"
          data-dismiss="modal"
          (click)="
            modificarLibro(
              title2.value,
              author2.value,
              year2.value,
              editorial2.value,
              type2.value,
              photo2.value,
              description2.value
            )
          "
        >
          Modificar libro
        </button>
      </div>
    </div>
  </div>
</div>

<ng-template #noHay>
  <div class="beta">
    <nav class="shelf">
      <a routerLink="/mostrarLibro" class="book home-page">Buscar libros</a>
      <a class="book about-us">Quienes somos</a>
      <a class="book contact">Contactanos</a>
      <a class="book faq">F.A.Q.</a>
      <span class="book not-found"></span>
      <span class="door left"></span>
      <span class="door right"></span>
    </nav>
    <h1>No tienes ninguna peticion</h1>
  </div>
</ng-template>
